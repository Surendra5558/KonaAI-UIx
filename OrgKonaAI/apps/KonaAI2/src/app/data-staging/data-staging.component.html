<div class="uploaded-data-wrapper">
  <!-- Section Header -->
  <!-- <div class="section-header">
    <h2>Uploaded Data</h2>

    <div class="status-indicators">
      <span class="status-icon success">
        <i class="far fa-check-circle"></i> {{ successCount }}
      </span>
      <span class="status-icon error">
        <i class="far fa-times-circle"></i> {{ errorCount }}
      </span>
      <span class="status-icon pending">
        <i class="far fa-hourglass"></i> {{ warningCount }}
      </span>
    </div>
  </div> -->

  <!-- Table -->
  <table class="table-main" >
    <thead>
      <tr>
        <th>Submodule</th>
        <th>Source System</th>
        <th>Record Count</th>
        <th>File Name</th>
        <th>Uploaded On</th>
        <th>Modified On</th>
        <th>Status</th>
        <th></th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let file of paginatedFiles">
        <td>{{ file.submodule }}</td>
        <td>{{ file.sourceSystem }}</td>
        <td>{{ file.recordCount | number }}</td>
        <td>{{ file.fileName }}</td>
        <td>{{ file.uploadedOn | date:'dd MMM yyyy' }}</td>
        <td>{{ file.modifiedOn | date:'dd MMM yyyy' }}</td>
        <td>
          <span class="status-badge completed">
            <i class="far fa-thumbs-up"></i> Completed
          </span>
        </td>
        <td>
          <span (click)="openArchivePopup(file.fileName); $event.stopPropagation()"
            class="text-black hover:text-gray-600" title="Archive">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4">
              </path>
            </svg>
          </span>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- ✅ Pagination always visible -->
  <div class="bottom-bar">
    <!-- Pagination Buttons (centered) -->
    <div class="pagination-controls">
      <button (click)="onPageChange('prev')" [disabled]="page === 1">‹</button>

      <button *ngFor="let p of [].constructor(totalPages); let i = index" (click)="goToPage(i + 1)"
        [class.active]="page === i + 1">
        {{ i + 1 }}
      </button>

      <button (click)="onPageChange('next')" [disabled]="page === totalPages">›</button>
    </div>

    <!-- Execute Button (right) -->
    <div class="execute">
      <button class="btn-execute" style="margin-left: -25%;">Execute</button>
    </div>
  </div>

  <!-- Popup -->
  <app-archive-popup *ngIf="showPopup" [data]="popupData" (result)="handlePopupResult($event)">
  </app-archive-popup>