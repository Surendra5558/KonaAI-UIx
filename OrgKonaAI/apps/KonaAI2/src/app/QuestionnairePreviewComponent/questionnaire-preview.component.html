<div class="preview-header">
  <header class="topbar topbar-header topbar-inner">
    <div>
      <div class="topbar-content">
        <button class="header-backbtn" (click)="onBackClick()">
          <i class="bi bi-arrow-left"></i>
        </button>
        <div>
          <h3>Preview</h3>
        </div>
      </div>
    </div>
  </header>
</div>

<div class="preview-main">
  <div style="display: flex;">
    <span class="doc-icon"><i class="bi bi-file-earmark" style="color: #9A7A08"></i></span>
    <h2>Untitled</h2>
  </div>

  <section *ngFor="let section of sections">
    <div class="section-heading" (click)="toggleSection(section)" style="cursor:pointer;">
      <span class="section-num">{{section.num}}</span>
      <span>{{section.title}}</span>
    </div>

    <div *ngIf="section.isOpen">
      <div *ngFor="let q of section.questions" class="preview-card">
        <div class="question-label">{{q.text}}</div>
        <div *ngIf="q.description" class="question-desc">{{q.description}}</div>

        <div [ngSwitch]="q.type">
          <input *ngSwitchCase="'Short Answer'" class="text-field" type="text" disabled placeholder="Enter answer"/>
          <textarea *ngSwitchCase="'Long Answer'" class="text-area" rows="2" disabled placeholder="Long answer"></textarea>
          <div *ngSwitchCase="'Multiple Choice'" class="option-group">
            <label *ngFor="let opt of q.options">
              <input type="radio" disabled name="mc-{{q.id}}" />{{opt}}
            </label>
          </div>
          <div *ngSwitchCase="'Check Boxes'" class="option-group">
            <label *ngFor="let opt of q.options">
              <input type="checkbox" disabled />{{opt}}
            </label>
          </div>
          <select *ngSwitchCase="'Dropdown'" disabled>
            <option *ngFor="let opt of q.options">{{opt}}</option>
          </select>
        </div>
      </div>
    </div>
  </section>
</div>
